<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>NFL Win Projection Tool</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="dark light" />
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body class="theme-dark">
    <!-- Top bar ------------------------------------------------------------ -->
    <header class="app-header">
      <div class="app-title">
        <h1>NFL Win Projection Tool</h1>
        <p>Weeks 15–18, 2025 · Spread-based probabilities (home perspective)</p>
      </div>

      <div class="app-controls">
        <button id="themeToggle" type="button" class="btn secondary">
          Switch to Light Theme
        </button>

        <button
            id="mainDisplayModeToggle"
            type="button"
            class="btn secondary"
            >
            Switch to Mobile View
        </button>

        <button id="viewToggleBtn" type="button" class="btn secondary">
          Show Team Projections
        </button>

        <button id="bettingTableBtn" type="button" class="btn secondary">
            Betting Table
        </button>

        <button id="toggleOddsBtn" type="button" class="btn secondary">
          Show Implied Odds
        </button>

        <label class="control-group">
          <span>Display precision</span>
          <select id="precisionSelect">
            <option value="2" selected>2 decimals</option>
            <option value="3">3 decimals</option>
            <option value="4">4 decimals</option>
          </select>
        </label>

        <button id="fillEvenBtn" type="button" class="btn secondary">
          Fill empty games with neutral spread
        </button>

        <button id="resetStateBtn" type="button" class="btn danger">
          Reset all spreads
        </button>

        <button id="exportCSV" type="button" class="btn primary">
          Export projections as CSV
        </button>

      </div>
    </header>

    <!-- Main content ------------------------------------------------------- -->
    <main class="layout">
      <!-- Schedule / spreads ---------------------------------------------- -->
      <section id="scheduleSection" class="schedule-section">
        <h2>Schedule &amp; Spread Inputs</h2>
        <p class="section-note">
          Spreads are always from the <strong>home team's perspective</strong>.
          Click on a number in the spread band to set the line for that game.
        </p>

        <!-- Filters for week / team / division -->
        <div class="app-controls schedule-filters">
          <label class="control-group">
            <span>Week</span>
            <select id="filterWeek"></select>
          </label>

          <label class="control-group">
            <span>Team</span>
            <select id="filterTeam"></select>
          </label>

          <label class="control-group">
            <span>Division</span>
            <select id="filterDivision"></select>
          </label>
        </div>

        <!-- Game cards are injected here by app.js -->
        <div id="scheduleContainer" class="schedule-container"></div>
      </section>

      <!-- Projections view (hidden by default, toggled in JS) -------------- -->
      <section id="resultsSection" class="results-section hidden">
        <div class="results-header-row">
          <h2>Team Projections</h2>

          <button
            id="toggleColumnPicker"
            type="button"
            class="btn secondary results-columns-btn"
          >
            Columns
          </button>
        </div>

        <div id="divisionNote" class="division-note"></div>

        <!-- Column selection panel (options injected in JS) -->
        <div id="columnPicker" class="column-picker hidden"></div>

        <!-- Main projections table (injected in JS) -->
        <div id="teamTableContainer" class="table-container"></div>

        <h3>Division Summaries</h3>
        <div
          id="divisionSummaryContainer"
          class="division-summary-container"
        ></div>
      </section>
    </main>

    <!-- Team detail modal -------------------------------------------------- -->
    <div
      id="teamDetailOverlay"
      class="team-detail-overlay hidden"
      aria-hidden="true"
    >
      <div
        class="team-detail-modal"
        role="dialog"
        aria-modal="true"
        aria-labelledby="teamDetailTitle"
      >
        <button
          id="teamDetailClose"
          class="btn close-btn"
          type="button"
          aria-label="Close team detail"
        >
          ×
        </button>
        <div id="teamDetailContent"></div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
